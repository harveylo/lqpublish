- inline对于编译器来说**[[$red]]==只是一个建议==**，好的编译器为自行针对函数的特征决定是否 将函数内联
- **适合使用inline关键字的函数**：短小的，调用开销大于执行开销的函数
- [[$red]]==**不适合使用inline关键字的函数**==
	- 篇幅较长
	- 有复杂控制逻辑(while)
	- 递归函数
- 内联函数会在调用出展开的特性使得编译器要求**内联函数的[[$red]]==定义==必须在每一个[[$red]]==编译单元 都可见==**
	- 这意味着，要么将内联函数的定义直接[[$red]]==**放在头文件**==里
	- 要么在每一个编译单元内都**重新定义一次**
		- 如果选择这种形式，那么每个定义都必须相同，否则将引起UB，编译器将随机选择定义展开
- # 类成员函数的内联
	- 在声明类的同时直接定义的函数都**默认是内联的**
	- 在类声明外定义(包括跨文件实现)，需要显式添加inline关键字
- inline是**用于实现的关键字**
	- ```
	  inline void Foo(int x, int y); // inline 仅与函数声明放在一起
	  void Foo(int x, int y){}
	  ```
		- 以上代码的最终结果是**Foo并不是内联函数**
	- ```
	  void Foo(int x, int y);
	  inline void Foo(int x, int y) {} // inline 与函数定义体放在一起
	  ```
		- 以上代码的最终结果是**Foo成为一个内联函数**
	- **体现了C/C++程序设计风格的一个基本原则：**声明与定义不可混为一谈，用户没有必要，也不应该知道函数是否需要内联
- # 内联的缺陷
	- 代码体积的膨胀和编译时间的增加
	- 类的**构造函数**和**析构函数**可能有一些隐藏行为，最好不要定义为内联的
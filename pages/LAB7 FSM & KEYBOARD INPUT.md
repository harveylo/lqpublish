- # 状态机
	- 实际应用中，FSM分为两种
		- **Moore（摩尔）型**
			- 输出信号只和FSM的当前状态有关，与输入信号的当前值无关
			- 输入信号只会影响状态机的次态
			- 输出信号直接由状态寄存器译码获得
			- 在下一个时钟周期才会反应出输入对于输出的影响
			- 特点：输出和输入信号隔离
		- **Mealy（米里）型**
			- 输出不仅与状态机当前状态有关还和当前输入有关
			- 输出直接受当前输入的影响
			- 输入信号的噪声可能影响到输出信号
	- ## 状态机的编码方式
		- 一般的二进制顺序编码编码量少，易于理解，但是需要编解码且抗干扰能力低
		- ### 一种常用的状态机编码：one-hot
			- 任何一个状态，状态编码中只有一位是1
			- 其他所有状态都为0
			- n个状态需要n位编码
			- 判断状态输出很简单
			- 跳转速度快
			- 外界干扰大概率进入无效状态，稳定性高
		- ### 另一种常用编码：grey code
			- 格雷码，相邻状态只有一位不同
		- 顺序二进制编码和格雷码状态机使用最少的触发器，较多的组合逻辑，适用于提供更多组合逻辑的CPLD(**Complex Programmable Logic Device**)芯片
		- 对于有更多触发器资源的FPGA，独热码更加有效
- # PS/2接口控制器及键盘输入
	- 一种个人计算机串行I/O接口的一种标准，因首次在IBM PS/2机器上使用而得名
	- 串行：信息在单根信号线上按序一位一位发送
	- 两根信号线
		- PS2_CLK传输时钟信号
		- PS2_DAT传输数据信号
		- 当两根信号线都处于高电平时键盘才可以给主机发送信号
		- 如果主机将PS2_CLK置为低，则键盘将准备接受主机发来的命令
	- 以每帧11位传输数据，同时在PS2_CLK上传输对应的时钟，一般为10.0–16.7kHz
	- 第一位是开始位（逻辑0），后面跟8位数据位（低位在前），一个奇偶校验位（奇校验）和一位停止位（逻辑1）
	- 每位都在时钟的 **下降沿** 有效
		- 下降沿正好在数据位的中间，因此可以让数据位从开始变化到接收采样时能有一段信号建立时间
	- ![../_images/ps01.png](https://nju-projectn.github.io/dlco-lecture-note/_images/ps01.png)
	- 按键按下时发送的扫描码为**通码（make code）**
		- 如果一直没有释放，将不断输出通码
	- **断码（break code）**是``F0h``加上该键的通码
	- 键盘每个键都有唯一的通码和断码，所有的扫描码的集合称为扫描码集
		- 共有三套标准扫描码集，现代键盘默认使用第二套扫描码
		- https://nju-projectn.github.io/dlco-lecture-note/_images/ps02.png
		- ![../_images/ps03.png](https://nju-projectn.github.io/dlco-lecture-note/_images/ps03.png)
		-
# 一些概念
	- ## Storage Class
		- “**存储类**”
		- 是**一个变量的属性**，确定其生命周期
			- 即其生命周期是**全局(Global)**还是**本地(Local)**。在C中对应的属于即“**static**”和“**automatic**”
			- static变量在整个程序执行过程中都存在
				- **所有的函数都是全局生命周期**
			- automatic变量仅在控制流通过其所在的代码块时被分配存储空间
				- 当执行返回之后，这些变量即被弹出，不再具有有效值
		- 在程序员实际编码的角度来看，其无非就是一些关键字
			- ``auto``
				- 和C++中的``auto``不是一回事
				- 由于C中的局部变量(在某一个代码块中)声明默认使用的就是auto，所以实际上此关键字基本不使用
				- 在C++中，此关键字被改为用于自动类型推导
			- ``register``
			- 以上两个关键字只可用于局部变量的声明
			- ``static``
			- ``extern``
				- 所有非类成员函数的声明默认为``extern``
			- ``typedef``
			- ``__declspec()``
				- 微软限定
	- ## MVSC的装饰名(Decorated Name)
		- mvsc在编译时会把函数，数据，对象名都改为装饰名，这一过程即装饰(decorate)
		- 被mvsc编译的代码，在内部互相引用都是使用装饰名
		- 不同版本的msvc编译得到的装饰名可能不尽相同，因此在项目中使用统一的toolchain相当重要
		- 在链接不同语言写成的代码时，获取正确的装饰名十分重要
			- 在使用msvc链接汇编语言代码时，汇编语言中的名字必须符合msvc的装饰名规范和调用规范
		- ### C++装饰名格式
			- 一个C++**函数**装饰名包含以下信息
				- 函数名
				- 如果是一个成员函数，装饰名将包含类名称
				- 如果是某个命名空间下的函数，装饰名将包含命名空间名称
				- 参数类型
				- 调用规范(Calling Convention)
				- 返回类型
				- 一个可选的target-specific元素
					- 例如在arm64EC对象中，``$$h``会被插入到装饰名中
		- ### C装饰名格式
			- C函数的装饰名由其调用规范决定
			- 在64位环境下仅有使用``__vectorcall``调用规范的函数会被装饰
			- C++文件中使用``exter "C"``修饰的函数也遵循C装饰名规则
			- | Calling convention | Decoration |
			  | ---- ---| ---- | ---- |
			  | **`__cdecl`** | Leading underscore (**`_`**) |
			  | **`__stdcall`** | Leading underscore (**`_`**) and a trailing at sign (**`@`**) followed by the number of bytes in the parameter list in decimal |
			  | **`__fastcall`** | Leading and trailing at signs (**`@`**) followed by a decimal number representing the number of bytes in the parameter list |
			  | **`__vectorcall`** | Two trailing at signs (**`@@`**) followed by a decimal number of bytes in the parameter list |
		- ### 查看装饰名
			- 在Visual Studio中的powershell中使用``dumpbin /exports <file-name>``可以查看二进制文件中的符号的装饰名
		-
	-
- # Best Practice
	- 定义函数式宏时，若涉及到计算，则**参数和展开形势本身都必须加上括号**
		- 例如：``#define add(a,b) ((a)+(b))``
		- 主要是为了避免运算符优先级的问题
	-
- # Must not
	- 一定**[[$red]]==不要写==``if(result == true)``**这种代码
		- 这种代码不仅仅是逻辑臃肿，且在C和C++中，很多函数会返回非0值来表示true，这种表达方式很有可能会导致不可预见的逻辑错误
	-
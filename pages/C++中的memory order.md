- # Memory coherence & consistency
	- 如果一个内存系统是**coherent**的，则任何一个对数据的读操作应该返回其**最近被改写的值**
	- **Coherence**定义了一个读操作能获得什么样的值
	- **Consistency**定义了何时一个写操作的值会被读操作获得
	- 在计算机结构体系教材中(David A Peterson)，称一个coherent的内存系统需要满足以下三个条件
		- 对于同一地址X，若处理器P对该地址进行了写，且在P写入之后没有别的处理器写X，则P在之后对于X的读总是能返回P写入的值
			- 实际上是要求内存系统提供**程序顺序(Program Order)**
		- 处理器P1完成对X的写之后，若在一段足够长的时间内没有其他处理器对X进行写，那么在这段时间之后，P2可以获取P1写入的值
			- 要求某一处理器写的结果**最终要对别的处理器可见**
		- 对同一地址的写操作是**串行(serialized**)的，在所有处理器的视角里，**对于同一内存位置的写都是同样的顺序**。
			- 要求内存系统提供**写串行化(write serialization)**
	- 如上的条件对于内存系统的读操作会读到何值进行了详尽的描述，但仍然为描述一个写操作的**可见性**
- # Memory Consitency Model
	- 本质上，内存一致性模型限制了读操作的返回值
	- 直观来说，以此读操作应该返回**最后**一次写入值
		- 在单处理器系统中，“最后”由程序定义
		- 在多处理器系统中，一般有一个**顺序一致性(SC)**作为参考
	- SC要求所有内存操作表现为(appear)逐个执行，即每一次执行结果都像是所有处理器的操作都以某一种线性顺序穿插进行
	- SC的两点要求：
		- 在每个处理器内，维护每个处理器的程序顺序
		- 在所有处理器间，维护一个全局可见且对于任何处理器都相同的操作顺序
	- 第二个要求意味着内存操作必须是原子的
		- 在这样的视角下，内存系统可以看作一个全局的内存，任一时刻通过一个switch只连接到某一个处理器，该处理器此时可以发射内存操作指令
		- 且每一个处理器都按照程序顺序发射内存操作指令
		- switch便提供了一个内存操作之间的全局串行顺序
	-
		-
		-
- 在计算机图形学中，动画可以被认为是一个和模型相关的，在时间上的一个函数
- 世界上第一部手绘的剧场版动画，长度达到Feature Length(>40 min)的是迪士尼的白雪公主
- 世界上第一部全CG Feature Length电影是玩具总动员
- # 关键帧动画(Key Frame Animation)
	- ![image.png](../assets/image_1708683382482_0.png){:height 212, :width 480}
	- 由大神绘制出关键帧，苦力们填充关键帧之间的画面
	- ## 关键帧插值(Interpolation)
		- 最简单的插值就是线性插值，但是如果想做出自然的自动插值，简单的线性插值并不足够
			- ![image.png](../assets/image_1708684515079_0.png){:height 310, :width 415}
- # 物理模拟
	- 主要是通过牛顿力学来根据物体的受力来计算物体的下一时刻位置
	- ![image.png](../assets/image_1708693239005_0.png){:height 230, :width 434}
	- ## 质点弹簧系统(Mass Spring System)
		- 是物理模拟中最常用的一种模型
		- ### 简单弹簧
			- 两个质点之间由一个弹簧链接，每个质点所受的力和它们之间的距离有关
				- ![image.png](../assets/image_1708694659663_0.png){:height 128, :width 342}
			- 但是弹簧一般都有一个rest length，在rest length下两个质点都不会受到来自弹簧的力
				- ![image.png](../assets/image_1708695069357_0.png){:height 223, :width 359}
				- 但是这个模型还是存在问题，那就是稍有变动之后会一直震动下去
				- 所以要加入摩檫力，也就是势能或动能的损耗
		- ### 一种常用记法
			- 在一个变量上加一个点表示这个变量的导数(Derivative)
			- 假设$x$表示空间中的一个位置，该位置是一个在时间t上的函数，那么
			- $\dot{x}=v$表示速度
			- $\ddot{x}=a$表示加速度
		- ### 带有内部损耗的弹簧
			- 为了让弹簧停下，给所有质点都添加一个和运动方向相反的力，这个力叫**damping force**
			- 假设一个质点的位置为$b$，那么$f = -k_d\dot{b}$
				- $k_d$就是damping coefficient
			- 但是会导致一个问题，那就是所有的运动都会被减慢甚至是停止
				- 例如，$a$，$b$都在像一个方向同步运动，这种情况下$a$，$b$之间的弹簧并没有任何拉伸或挤压，但还是会受到一个反方向的力，这明显不合理
		- ### 考虑两个被链接的质点之间相对运动所带来的损耗
			- 将damping force设置在两个质点之间的相对运动上
			- ![image.png](../assets/image_1708763521897_0.png){:height 156, :width 473}
			- 注意红框中的东西最后计算出来是一个标量值，因为两个元素之间是做的点乘
			- 因为相对速度中，只有分解到弹簧方向上的部分才会导致损耗，所以要先做一次投影
		- ### 使用弹簧构成各种解构
			- 例如，可以用弹簧构成布料的结构
				- ![image.png](../assets/image_1708764602943_0.png){:height 194, :width 429}
	- ## 粒子系统(Particle System)
		- 常用于建模大量粒子所构成的系统，应用广泛
		- 粒子之间的作用力有很多来源
			- 引力，电磁力，摩擦力，碰撞
		- 可以被用于建模：
			- 云雾
			- 火焰
			- 水体
			- 人群
			- 。。。
- # 运动学(Kinematics)
	- ## 正向运动学(Forward Kinematics)
	- 运动学分为正向和逆向(Inverse)，逆向更难
	- 运动学的本质还是希望指导动画的制作，方法是通过一个骨骼系统
	- 一个骨骼系统的核心是各种**关节(Joint)**，各种骨骼通过关节形成**拓扑结构**，并往往使用树状结构来存储
	- ### 关节
		- 关节可以被分为三种类型
			- Pin(一维)
				- 只能在某一个平面内旋转
			- Ball(二维)
				- 球形关节，可以不仅仅在一个平面内旋转
			- Prismatic Joint
				- 关节本事不是完全固定的，可以有一些位移(Translation)
				- ![image.png](../assets/image_1709032613271_0.png){:height 98, :width 166}
		- 正向运动学的本质是，给出一个若干由关节连接的结构，告诉每个关节旋转多少角度，然后计算出每个结构旋转之后的位置
	- ## 逆向运动学(Inverse Kinematics)
		- 正向运动学不利于艺术家们的表达
		- 因此一般采用逆向运动学，先将某个结构拖到想要的位置，再计算怎么到这个位置
		- 逆向运动学的问题是可能会出现多解和无解的情况
			- 多解即一个终端位置可能有多种运动方案
			- 无解即某个终端位置根本不可达
		- 用梯度下降法求解优化问题
			- 牛顿法
- # Rigging
	- 对于某种形状的控制
	- ![image.png](../assets/image_1709034073432_0.png){:height 242, :width 244}
- # 动作捕捉(Motion Capture)
	- 把真人的动作通过控制点转移到虚拟任务上
	- ![image.png](../assets/image_1709034203793_0.png){:height 314, :width 180}
	- 动作捕捉分为：光学(Optical)，电磁学(Magnetic)，机械(Mechanical)
		- 目前使用最广泛的还是光学
- # 动画电影生产流水线
	- ![image.png](../assets/image_1709034453395_0.png){:height 498, :width 570}
	-
	-
# 关于光线(Light Ray)的一些认知
	- 光线**沿直线传播**
		- 在现实中是不对的，应为光实际上是电磁波。但是认为其是沿直线传播所得到的模拟效果已经够好了
	- 光线之间**不会互相碰撞而产生干扰**
		- 也是不对的，但是效果已经够好
	- 光线从光源传递到眼中，使人眼成像
		- 但是在实际操作中往往是从摄像机处射出光线，看能够达到哪些物体，在这些物体上又会产生折射，反射等情况。这么做的正确性是应为光线路径的**可逆性**
- # 光线投射
	- ![image.png](../assets/image_1702996493319_0.png){:height 235, :width 327}
	- 光追的基本原理就是从眼睛(摄像机)处向场景中投射光线，并记录这些光线击中的第一个物体
	- 对击中的物体进行渲染过程，计算颜色，生成像素点信息
- # 递归式(Whitted-Style)光追
	- 由T.Whitted提出，是一种递归式(Recursive)的光追方法
	- ![image.png](../assets/image_1702997465650_0.png){:height 239, :width 402}
	- 光线可能会产生**折射**，**反射**等，这些情况会产生子光线
		- 子光线在能量上会有损耗，在最后合并计算颜色时每产生一次子光线，子光线的贡献都会被降低
		- 颜色是在击中物体表面时产生的，对每一个集中的点，都要计算其是否和光源有通路，如果有，纳入计算
	- ## 判定光面相交(Ray-Surface Intersection)
		- ### 光线的表示方式
			- 每一条光线由两个元素定义：源点和方向
				- ![image.png](../assets/image_1702997859349_0.png){:height 132, :width 158}
			- 光线可以被定义为一个函数，光线在$t$时刻传播所在的位置使用一个函数表示，即：
				- $\bold{r}(t)=\bold{o}+t\bold{d}\qquad 0\le t<\infin$
				- $\bold{d}$表示方向
		- ### 光线和球的相交求解
			- 一个球体可以表示为一堆点的集合，其中每一个点$\bold{p}$都满足：
				- $\bold{(p-c)}^2 = R^2$
				- 其中$\bold{c}$是球心，$R$是半径
			- 求解一条光线是否击中球体，就是求方程$(\bold{o}+t\bold{d-c})^2 = R^2$对$t$是否有解，根据二次方程求根公式，解析原方程得到：
				- $a=\bold{d\cdot d}$
				- $b = 2(\bold{o-c})\cdot \bold{d}$
				- $c = \bold{(o-c)\cdot(o-c)}-R^2$
			- 因此有：
				- $t = \frac{-b\pm\sqrt{b^2-4ac}}{2a}$
				- 但是我们只关注**正的实数**解，因为光线只沿一个方向传播
				- 如果两个解都是正的，那么去最小的那个，因为我们只关心光线第一次击中的点
		- ### 光线和隐式(implicit)表面的相交求解
			- 所有的隐式表面都可以表达为一个关于其表面任意一个点的方程：$f(\bold{p}) = 0$
			- 只需将光线表达式代入$\bold{p}$，对$t$求解方程$f(\bold{o}+t\bold{t})$即可
		- ### 光线和网格的相交求解
			-
			-